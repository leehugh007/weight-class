<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>減重班簽到系統</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">🏋️‍♀️ 減重班簽到系統</h1>

        <!-- 月份選擇 -->
        <div class="text-center mb-3">
            <label for="monthSelect">選擇月份：</label>
            <select id="monthSelect" class="form-control" style="max-width: 300px; margin: auto;"></select>
        </div>

        <!-- 簽到表單 -->
        <div class="mb-4 text-center">
            <input type="text" id="nameInput" class="form-control mb-2" placeholder="請輸入你的名字" style="max-width: 300px; margin: auto;">
            <input type="date" id="dateInput" class="form-control mb-2" style="max-width: 300px; margin: auto;">
            <button id="signinBtn" class="btn btn-primary mb-2">簽到</button>
        </div>

        <!-- 簽到訊息 -->
        <div id="message" class="alert alert-success" style="display: none;"></div>

        <!-- 圖表顯示 -->
        <canvas id="chart" width="400" height="200"></canvas>

        <!-- 排行榜表格 -->
        <h3>📋 排行榜資料表</h3>
        <table id="leaderboardTable" border="1"></table>
    </div>

    <!-- Firebase 初始化 -->
    <script>
        console.log("🔥 正在初始化 Firebase...");

        const firebaseConfig = {
            apiKey: "你的 API Key",
            authDomain: "artemis-weight-class.firebaseapp.com",
            projectId: "artemis-weight-class",
            storageBucket: "artemis-weight-class.appspot.com",
            messagingSenderId: "591342091914",
            appId: "1:591342091914:web:a35ea1de392e848961f773",
            measurementId: "G-HW01886DST",
            databaseURL: "https://artemis-weight-class-default-rtdb.asia-southeast1.firebasedatabase.app/"
        };

        try {
            const app = firebase.initializeApp(firebaseConfig);
            const database = firebase.database();
            console.log("✅ Firebase 已正確初始化！");
            window.firebaseDatabase = database;
        } catch (error) {
            console.error("❌ Firebase 初始化失敗：", error);
        }
    </script>

    <!-- 引入 script.js -->
    <script src="script.js"></script>
</body>
</html>