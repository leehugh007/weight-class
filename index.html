<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸›é‡ç­ç°½åˆ°ç³»çµ±</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- âœ… ä½¿ç”¨ `compat` ç‰ˆæœ¬ (æ­£ç¢ºå¼•å…¥æ–¹å¼) -->
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-database-compat.js"></script>

    <!-- âœ… åˆå§‹åŒ– Firebase -->
    <script>
      window.addEventListener('load', () => {
          const firebaseConfig = {
              apiKey: "AIzaSyDffz_ikeyugvTxZMRNwaO-31iRCZkJUoA",
              authDomain: "artemis-weight-class.firebaseapp.com",
              projectId: "artemis-weight-class",
              storageBucket: "artemis-weight-class.appspot.com",
              messagingSenderId: "591342091914",
              appId: "1:591342091914:web:a35ea1de392e848961f773",
              measurementId: "G-HW01886DST",
              databaseURL: "https://artemis-weight-class-default-rtdb.asia-southeast1.firebasedatabase.app/"
          };
          
          try {
              console.log("ğŸ”¥ æ­£åœ¨å˜—è©¦åˆå§‹åŒ– Firebase...");
              const app = firebase.initializeApp(firebaseConfig);
              const database = firebase.database();

              if (database) {
                  console.log("âœ… Firebase å·²æ­£ç¢ºåˆå§‹åŒ–ï¼");
                  window.firebaseDatabase = database;

                  const scriptTag = document.createElement('script');
                  scriptTag.src = 'script.js?v=' + new Date().getTime();
                  document.body.appendChild(scriptTag);
              } else {
                  console.error("âŒ Firebase è³‡æ–™åº«è¼‰å…¥å¤±æ•—ï¼");
                  alert("Firebase è³‡æ–™åº«è¼‰å…¥å¤±æ•—ï¼è«‹ç¢ºèª Firebase è¨­å®šã€‚");
              }
          } catch (error) {
              console.error("âŒ Firebase åˆå§‹åŒ–å¤±æ•—ï¼š", error);
              alert("Firebase è³‡æ–™åº«åˆå§‹åŒ–å¤±æ•—ï¼è«‹ç¢ºèªä½ çš„è¨­å®šï¼");
          }
      });
    </script>
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center mb-4">ğŸ‹ï¸â€â™€ï¸ æ¸›é‡ç­ç°½åˆ°ç³»çµ±</h1>

        <div class="mb-4 text-center">
            <input type="text" id="nameInput" class="form-control mb-2" placeholder="è«‹è¼¸å…¥ä½ çš„åå­—" style="max-width: 300px; margin: auto;">
            <input type="date" id="dateInput" class="form-control mb-2" style="max-width: 300px; margin: auto;">
            <button id="signinBtn" class="btn btn-primary mb-2">ç°½åˆ°</button>
        </div>

        <div id="message" class="alert alert-success" style="display: none;"></div>
    </div>
</body>
</html>